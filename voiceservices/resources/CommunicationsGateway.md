A CommunicationsGateway resource
API Version: 2023-01-31.
Previous API Version: 2022-12-01-preview. See https://github.com/pulumi/pulumi-azure-native/discussions/TODO for information on migrating from v1 to v2 of the provider.

{{% examples %}}
## Example Usage
{{% example %}}
### CreateCommunicationsGatewayResource
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using AzureNative = Pulumi.AzureNative;

return await Deployment.RunAsync(() => 
{
    var communicationsGateway = new AzureNative.VoiceServices.CommunicationsGateway("communicationsGateway", new()
    {
        AutoGeneratedDomainNameLabelScope = "NoReuse",
        Codecs = new[]
        {
            "PCMA",
        },
        CommunicationsGatewayName = "myname",
        Connectivity = "PublicAddress",
        E911Type = "Standard",
        Location = "useast",
        Platforms = new[]
        {
            "OperatorConnect",
        },
        ResourceGroupName = "testrg",
        ServiceLocations = new[]
        {
            new AzureNative.VoiceServices.Inputs.ServiceRegionPropertiesArgs
            {
                Name = "useast",
                PrimaryRegionProperties = new AzureNative.VoiceServices.Inputs.PrimaryRegionPropertiesArgs
                {
                    AllowedMediaSourceAddressPrefixes = new[]
                    {
                        "10.1.2.0/24",
                    },
                    AllowedSignalingSourceAddressPrefixes = new[]
                    {
                        "10.1.1.0/24",
                    },
                    OperatorAddresses = new[]
                    {
                        "198.51.100.1",
                    },
                },
            },
            new AzureNative.VoiceServices.Inputs.ServiceRegionPropertiesArgs
            {
                Name = "useast2",
                PrimaryRegionProperties = new AzureNative.VoiceServices.Inputs.PrimaryRegionPropertiesArgs
                {
                    AllowedMediaSourceAddressPrefixes = new[]
                    {
                        "10.2.2.0/24",
                    },
                    AllowedSignalingSourceAddressPrefixes = new[]
                    {
                        "10.2.1.0/24",
                    },
                    OperatorAddresses = new[]
                    {
                        "198.51.100.2",
                    },
                },
            },
        },
        TeamsVoicemailPilotNumber = "1234567890",
    });

});


```

```go
package main

import (
	voiceservices "github.com/pulumi/pulumi-azure-native-sdk/voiceservices"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := voiceservices.NewCommunicationsGateway(ctx, "communicationsGateway", &voiceservices.CommunicationsGatewayArgs{
			AutoGeneratedDomainNameLabelScope: pulumi.String("NoReuse"),
			Codecs: pulumi.StringArray{
				pulumi.String("PCMA"),
			},
			CommunicationsGatewayName: pulumi.String("myname"),
			Connectivity:              pulumi.String("PublicAddress"),
			E911Type:                  pulumi.String("Standard"),
			Location:                  pulumi.String("useast"),
			Platforms: pulumi.StringArray{
				pulumi.String("OperatorConnect"),
			},
			ResourceGroupName: pulumi.String("testrg"),
			ServiceLocations: []voiceservices.ServiceRegionPropertiesArgs{
				{
					Name: pulumi.String("useast"),
					PrimaryRegionProperties: {
						AllowedMediaSourceAddressPrefixes: pulumi.StringArray{
							pulumi.String("10.1.2.0/24"),
						},
						AllowedSignalingSourceAddressPrefixes: pulumi.StringArray{
							pulumi.String("10.1.1.0/24"),
						},
						OperatorAddresses: pulumi.StringArray{
							pulumi.String("198.51.100.1"),
						},
					},
				},
				{
					Name: pulumi.String("useast2"),
					PrimaryRegionProperties: {
						AllowedMediaSourceAddressPrefixes: pulumi.StringArray{
							pulumi.String("10.2.2.0/24"),
						},
						AllowedSignalingSourceAddressPrefixes: pulumi.StringArray{
							pulumi.String("10.2.1.0/24"),
						},
						OperatorAddresses: pulumi.StringArray{
							pulumi.String("198.51.100.2"),
						},
					},
				},
			},
			TeamsVoicemailPilotNumber: pulumi.String("1234567890"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}

```

```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.azurenative.voiceservices.CommunicationsGateway;
import com.pulumi.azurenative.voiceservices.CommunicationsGatewayArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var communicationsGateway = new CommunicationsGateway("communicationsGateway", CommunicationsGatewayArgs.builder()        
            .autoGeneratedDomainNameLabelScope("NoReuse")
            .codecs("PCMA")
            .communicationsGatewayName("myname")
            .connectivity("PublicAddress")
            .e911Type("Standard")
            .location("useast")
            .platforms("OperatorConnect")
            .resourceGroupName("testrg")
            .serviceLocations(            
                Map.ofEntries(
                    Map.entry("name", "useast"),
                    Map.entry("primaryRegionProperties", Map.ofEntries(
                        Map.entry("allowedMediaSourceAddressPrefixes", "10.1.2.0/24"),
                        Map.entry("allowedSignalingSourceAddressPrefixes", "10.1.1.0/24"),
                        Map.entry("operatorAddresses", "198.51.100.1")
                    ))
                ),
                Map.ofEntries(
                    Map.entry("name", "useast2"),
                    Map.entry("primaryRegionProperties", Map.ofEntries(
                        Map.entry("allowedMediaSourceAddressPrefixes", "10.2.2.0/24"),
                        Map.entry("allowedSignalingSourceAddressPrefixes", "10.2.1.0/24"),
                        Map.entry("operatorAddresses", "198.51.100.2")
                    ))
                ))
            .teamsVoicemailPilotNumber("1234567890")
            .build());

    }
}

```

```typescript
import * as pulumi from "@pulumi/pulumi";
import * as azure_native from "@pulumi/azure-native";

const communicationsGateway = new azure_native.voiceservices.CommunicationsGateway("communicationsGateway", {
    autoGeneratedDomainNameLabelScope: "NoReuse",
    codecs: ["PCMA"],
    communicationsGatewayName: "myname",
    connectivity: "PublicAddress",
    e911Type: "Standard",
    location: "useast",
    platforms: ["OperatorConnect"],
    resourceGroupName: "testrg",
    serviceLocations: [
        {
            name: "useast",
            primaryRegionProperties: {
                allowedMediaSourceAddressPrefixes: ["10.1.2.0/24"],
                allowedSignalingSourceAddressPrefixes: ["10.1.1.0/24"],
                operatorAddresses: ["198.51.100.1"],
            },
        },
        {
            name: "useast2",
            primaryRegionProperties: {
                allowedMediaSourceAddressPrefixes: ["10.2.2.0/24"],
                allowedSignalingSourceAddressPrefixes: ["10.2.1.0/24"],
                operatorAddresses: ["198.51.100.2"],
            },
        },
    ],
    teamsVoicemailPilotNumber: "1234567890",
});

```

```python
import pulumi
import pulumi_azure_native as azure_native

communications_gateway = azure_native.voiceservices.CommunicationsGateway("communicationsGateway",
    auto_generated_domain_name_label_scope="NoReuse",
    codecs=["PCMA"],
    communications_gateway_name="myname",
    connectivity="PublicAddress",
    e911_type="Standard",
    location="useast",
    platforms=["OperatorConnect"],
    resource_group_name="testrg",
    service_locations=[
        {
            "name": "useast",
            "primaryRegionProperties": azure_native.voiceservices.PrimaryRegionPropertiesArgs(
                allowed_media_source_address_prefixes=["10.1.2.0/24"],
                allowed_signaling_source_address_prefixes=["10.1.1.0/24"],
                operator_addresses=["198.51.100.1"],
            ),
        },
        {
            "name": "useast2",
            "primaryRegionProperties": azure_native.voiceservices.PrimaryRegionPropertiesArgs(
                allowed_media_source_address_prefixes=["10.2.2.0/24"],
                allowed_signaling_source_address_prefixes=["10.2.1.0/24"],
                operator_addresses=["198.51.100.2"],
            ),
        },
    ],
    teams_voicemail_pilot_number="1234567890")

```

```yaml
resources:
  communicationsGateway:
    type: azure-native:voiceservices:CommunicationsGateway
    properties:
      autoGeneratedDomainNameLabelScope: NoReuse
      codecs:
        - PCMA
      communicationsGatewayName: myname
      connectivity: PublicAddress
      e911Type: Standard
      location: useast
      platforms:
        - OperatorConnect
      resourceGroupName: testrg
      serviceLocations:
        - name: useast
          primaryRegionProperties:
            allowedMediaSourceAddressPrefixes:
              - 10.1.2.0/24
            allowedSignalingSourceAddressPrefixes:
              - 10.1.1.0/24
            operatorAddresses:
              - 198.51.100.1
        - name: useast2
          primaryRegionProperties:
            allowedMediaSourceAddressPrefixes:
              - 10.2.2.0/24
            allowedSignalingSourceAddressPrefixes:
              - 10.2.1.0/24
            operatorAddresses:
              - 198.51.100.2
      teamsVoicemailPilotNumber: '1234567890'

```

{{% /example %}}
{{% /examples %}}

## Import

An existing resource can be imported using its type token, name, and identifier, e.g.

```sh
$ pulumi import azure-native:voiceservices:CommunicationsGateway myname /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/testrg/providers/Microsoft.VoiceServices/communicationsGateways/myname 
```
